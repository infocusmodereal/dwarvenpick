spring:
  application:
    name: badgermole-backend
  jackson:
    default-property-inclusion: non_null

management:
  endpoints:
    web:
      exposure:
        include: health,info,prometheus
  endpoint:
    health:
      probes:
        enabled: true

server:
  shutdown: graceful
  servlet:
    session:
      cookie:
        http-only: true
        same-site: lax

badgermole:
  security:
    credentials:
      active-key-id: ${BADGERMOLE_CREDENTIAL_ACTIVE_KEY_ID:v1}
      master-key: ${BADGERMOLE_CREDENTIAL_MASTER_KEY:badgermole-dev-master-key-change-me}
  drivers:
    external-dir: ${BADGERMOLE_EXTERNAL_DRIVERS_DIR:/opt/app/drivers}
  auth:
    password-policy:
      min-length: 10
      require-uppercase: true
      require-lowercase: true
      require-digit: true
    ldap:
      enabled: false
      url: ""
      bind-dn: ""
      bind-password: ""
      user-search-base: ""
      user-filter: "(uid={0})"
      attribute-mapping:
        username: uid
        display-name: cn
        email: mail
      group-sync:
        enabled: true
        group-search-base: ""
        group-filter: "(member={0})"
        group-name-attribute: cn
        mapping-rules: {}
      mock:
        enabled: false
        users: []
